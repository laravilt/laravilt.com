@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@import 'tw-animate-css';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';

/* Laravilt packages - scan for Tailwind classes */
@source '../../vendor/laravilt/*/resources/js/**/*.vue';
@source '../../vendor/laravilt/*/resources/js/**/*.ts';

@custom-variant dark (&:is(.dark *));

@theme inline {
    --font-sans:
        Instrument Sans, ui-sans-serif, system-ui, sans-serif,
        'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
        'Noto Color Emoji';

    --radius-lg: var(--radius);
    --radius-md: calc(var(--radius) - 2px);
    --radius-sm: calc(var(--radius) - 4px);

    --color-background: var(--background);
    --color-foreground: var(--foreground);

    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);

    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);

    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);

    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);

    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);

    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);

    --color-destructive: var(--destructive);
    --color-destructive-foreground: var(--destructive-foreground);

    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);

    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);

    --color-sidebar: var(--sidebar-background);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }
}

@layer utilities {

    body,
    html {
        --font-sans:
            'Instrument Sans', ui-sans-serif, system-ui, sans-serif,
            'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
            'Noto Color Emoji';
    }
}

:root {
    --background: hsl(0 0% 100%);
    --foreground: hsl(0 0% 3.9%);
    --card: hsl(0 0% 100%);
    --card-foreground: hsl(0 0% 3.9%);
    --popover: hsl(0 0% 100%);
    --popover-foreground: hsl(0 0% 3.9%);
    --primary: hsl(174 96% 35%);
    --primary-foreground: hsl(0 0% 100%);
    --secondary: hsl(307 55% 33%);
    --secondary-foreground: hsl(0 0% 100%);
    --muted: hsl(174 15% 95%);
    --muted-foreground: hsl(174 10% 40%);
    --accent: hsl(307 30% 95%);
    --accent-foreground: hsl(307 55% 25%);
    --destructive: hsl(0 84.2% 60.2%);
    --destructive-foreground: hsl(0 0% 98%);
    --border: hsl(174 20% 90%);
    --input: hsl(174 15% 88%);
    --ring: hsl(174 96% 35%);
    --chart-1: hsl(174 96% 38%);
    --chart-2: hsl(307 55% 33%);
    --chart-3: hsl(174 70% 25%);
    --chart-4: hsl(307 40% 50%);
    --chart-5: hsl(174 50% 50%);
    --radius: 0.5rem;
    --sidebar-background: hsl(0 0% 98%);
    --sidebar-foreground: hsl(240 5.3% 26.1%);
    --sidebar-primary: hsl(174 96% 35%);
    --sidebar-primary-foreground: hsl(0 0% 100%);
    --sidebar-accent: hsl(174 20% 94%);
    --sidebar-accent-foreground: hsl(174 50% 20%);
    --sidebar-border: hsl(174 15% 90%);
    --sidebar-ring: hsl(174 96% 35%);
    --sidebar: hsl(0 0% 98%);
}

.dark {
    --background: hsl(0 0% 3.9%);
    --foreground: hsl(0 0% 98%);
    --card: hsl(0 0% 6%);
    --card-foreground: hsl(0 0% 98%);
    --popover: hsl(0 0% 6%);
    --popover-foreground: hsl(0 0% 98%);
    --primary: hsl(174 90% 45%);
    --primary-foreground: hsl(0 0% 5%);
    --secondary: hsl(307 50% 45%);
    --secondary-foreground: hsl(0 0% 100%);
    --muted: hsl(0 0% 14%);
    --muted-foreground: hsl(0 0% 63.9%);
    --accent: hsl(307 30% 20%);
    --accent-foreground: hsl(307 50% 80%);
    --destructive: hsl(0 84% 60%);
    --destructive-foreground: hsl(0 0% 98%);
    --border: hsl(174 15% 18%);
    --input: hsl(174 10% 18%);
    --ring: hsl(174 90% 45%);
    --chart-1: hsl(174 90% 50%);
    --chart-2: hsl(307 55% 50%);
    --chart-3: hsl(174 60% 40%);
    --chart-4: hsl(307 45% 60%);
    --chart-5: hsl(174 45% 55%);
    --sidebar-background: hsl(0 0% 7%);
    --sidebar-foreground: hsl(0 0% 95.9%);
    --sidebar-primary: hsl(174 90% 45%);
    --sidebar-primary-foreground: hsl(0 0% 5%);
    --sidebar-accent: hsl(174 20% 15%);
    --sidebar-accent-foreground: hsl(174 50% 80%);
    --sidebar-border: hsl(174 10% 18%);
    --sidebar-ring: hsl(174 90% 45%);
    --sidebar: hsl(240 5.9% 10%);
}

@layer base {
    * {
        @apply border-border outline-ring/50;
    }

    body {
        @apply bg-background text-foreground;
    }

    /* v-cloak directive - hide elements until Vue is ready */
    [v-cloak] {
        display: none !important;
    }
}

/* Collapsible Content - animation only when user clicks (data-animating on parent) */
@layer utilities {

    /* Default: no animation */
    [data-slot='collapsible-content'] {
        animation: none !important;
    }

    /* Animation only when parent has data-animating (user clicked) */
    [data-animating='true'] [data-slot='collapsible-content'][data-state='open'] {
        animation: collapsible-down 200ms ease-out !important;
    }

    [data-animating='true'] [data-slot='collapsible-content'][data-state='closed'] {
        animation: collapsible-up 200ms ease-out !important;
    }

    @keyframes collapsible-down {
        from {
            height: 0;
            opacity: 0;
        }

        to {
            height: var(--reka-collapsible-content-height);
            opacity: 1;
        }
    }

    @keyframes collapsible-up {
        from {
            height: var(--reka-collapsible-content-height);
            opacity: 1;
        }

        to {
            height: 0;
            opacity: 0;
        }
    }

    /* Accordion Content Animation */
    [data-state='open'][data-slot='accordion-content'] {
        animation: accordion-down 200ms ease-out;
    }

    [data-state='closed'][data-slot='accordion-content'] {
        animation: accordion-up 200ms ease-out;
    }

    @keyframes accordion-down {
        from {
            height: 0;
            opacity: 0;
        }

        to {
            height: var(--reka-accordion-content-height);
            opacity: 1;
        }
    }

    @keyframes accordion-up {
        from {
            height: var(--reka-accordion-content-height);
            opacity: 1;
        }

        to {
            height: 0;
            opacity: 0;
        }
    }

    /* Card hover effects */
    .card-hoverable {
        @apply transition-all duration-200 ease-in-out hover:shadow-lg hover:-translate-y-0.5;
    }

    /* Button press effect */
    .btn-press {
        @apply active:scale-[0.98] transition-transform duration-100;
    }

    /* Fade in animation for content */
    .fade-in {
        animation: fade-in 200ms ease-out;
    }

    @keyframes fade-in {
        from {
            opacity: 0;
            transform: translateY(4px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Slide in from right for slide-over panels */
    .slide-in-right {
        animation: slide-in-right 300ms ease-out;
    }

    @keyframes slide-in-right {
        from {
            transform: translateX(100%);
        }

        to {
            transform: translateX(0);
        }
    }

    /* Scale in animation for modals */
    .scale-in {
        animation: scale-in 200ms ease-out;
    }

    @keyframes scale-in {
        from {
            opacity: 0;
            transform: scale(0.95);
        }

        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    /* Skeleton loading animation */
    .skeleton-pulse {
        animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes skeleton-pulse {

        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.5;
        }
    }
}

/* RTL Support - Global styles */
@layer utilities {

    /* Slide in from left for RTL slide-over panels */
    [dir='rtl'] .slide-in-right {
        animation: slide-in-left 300ms ease-out;
    }

    @keyframes slide-in-left {
        from {
            transform: translateX(-100%);
        }

        to {
            transform: translateX(0);
        }
    }

}

/* Ensure proper text alignment for RTL */
[dir='rtl'] {
    text-align: right;
}

[dir='rtl'] input,
[dir='rtl'] textarea,
[dir='rtl'] select {
    text-align: right;
}

/* Fix checkbox and radio alignment in RTL */
[dir='rtl'] input[type='checkbox'],
[dir='rtl'] input[type='radio'] {
    margin-right: 0;
    margin-left: 0.5rem;
}

/* Ensure dropdown menus appear on the correct side in RTL */
[dir='rtl'] [data-radix-popper-content-wrapper] {
    /* Radix/Reka UI handles this automatically with side prop */
}

/* Custom Scrollbar Styles */
@layer utilities {

    /* Scrollbar base styles */
    .scrollbar-thin {
        scrollbar-width: thin;
    }

    /* Custom scrollbar for WebKit browsers */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: hsl(0 0% 95%);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: hsl(0 0% 70%);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: hsl(0 0% 60%);
    }

    /* Dark mode scrollbar */
    .dark ::-webkit-scrollbar-track {
        background: hsl(0 0% 15%);
    }

    .dark ::-webkit-scrollbar-thumb {
        background: hsl(0 0% 35%);
    }

    .dark ::-webkit-scrollbar-thumb:hover {
        background: hsl(0 0% 45%);
    }

    /* Sidebar scrollbar */
    [data-sidebar] ::-webkit-scrollbar {
        width: 6px;
    }

    [data-sidebar] ::-webkit-scrollbar-track {
        background: transparent;
    }

    [data-sidebar] ::-webkit-scrollbar-thumb {
        background: var(--sidebar-border);
        border-radius: 3px;
    }

    [data-sidebar] ::-webkit-scrollbar-thumb:hover {
        background: var(--sidebar-accent);
    }

    /* Dropdown menu scrollbar */
    [data-reka-dropdown-menu-content] ::-webkit-scrollbar,
    [data-slot="dropdown-menu-content"] ::-webkit-scrollbar {
        width: 6px;
    }

    [data-reka-dropdown-menu-content] ::-webkit-scrollbar-track,
    [data-slot="dropdown-menu-content"] ::-webkit-scrollbar-track {
        background: transparent;
    }

    [data-reka-dropdown-menu-content] ::-webkit-scrollbar-thumb,
    [data-slot="dropdown-menu-content"] ::-webkit-scrollbar-thumb {
        background: var(--border);
        border-radius: 3px;
    }

    [data-reka-dropdown-menu-content] ::-webkit-scrollbar-thumb:hover,
    [data-slot="dropdown-menu-content"] ::-webkit-scrollbar-thumb:hover {
        background: var(--muted-foreground);
    }

    /* Firefox scrollbar colors */
    * {
        scrollbar-color: hsl(0 0% 70%) hsl(0 0% 95%);
    }

    .dark * {
        scrollbar-color: hsl(0 0% 35%) hsl(0 0% 15%);
    }

    [data-sidebar] {
        scrollbar-color: var(--sidebar-border) transparent;
    }
}
